<%- include('../layout') %>

<main class="container">
  <section class="tool-card">

    <h1>Edit Tool</h1>
    <p class="subtitle">
      Update details for <strong><%= tool.name %></strong>
    </p>

    <form action="/tools/<%= tool._id %>?_method=PUT" method="POST">

      <label for="name">Name</label>
      <input
        type="text"
        id="name"
        name="name"
        value="<%= tool.name %>"
        required
      >

      <label for="platform">Platform</label>
      <input
        type="text"
        id="platform"
        name="platform"
        value="<%= tool.platform %>"
        required
      >

      <label for="riskLevel">Risk Level</label>
      <select id="riskLevel" name="riskLevel">
        <option <%= tool.riskLevel === "Low" ? "selected" : "" %>>Low</option>
        <option <%= tool.riskLevel === "Medium" ? "selected" : "" %>>Medium</option>
        <option <%= tool.riskLevel === "High" ? "selected" : "" %>>High</option>
      </select>

      <label for="description">Description</label>
      <textarea
        id="description"
        name="description"
        rows="4"
      ><%= tool.description %></textarea>

      <label for="tags">Tags (comma-separated)</label>
      <input
        type="text"
        id="tags"
        name="tags"
        value="<%= tool.tags.join(', ') %>"
      >

      <div class="form-actions">
        <button type="submit" class="btn-primary">
          Update Tool
        </button>
        <a href="/tools/<%= tool._id %>" class="btn-ghost">
          Cancel
        </a>
      </div>

    </form>

  </section>
</main>
